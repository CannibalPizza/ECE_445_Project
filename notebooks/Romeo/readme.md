# **Romeo's Worklog**
## 2/11/2025 - First Meeting With TA
This day included our first meeting with our TA, Chi Zhang. Prior to the meeting, our group began working thoroughly on the project proposal. This included copying over the template for the proposal, and then writing our ideas down.

By the end of our first meeting before talking to the TA, we wrote down the majority of the problem and solution statements, some visual aids about how we wanted our system to work on an actual door, and then bulleted lists briefly touching on system overview and requirements. We also discussed what clarifying questions to ask the TA.

During the TA meeting we explained our project. We want a box mounted on the door frame to contain an ESP32, which would control a motor that would be able to  swing the door open and closed. This would be controlled by a remote that the user can pair to that ESP32 with another ESP32 in the remote. The user would be able to connect to multiple of these door systems, so that they can open/close whatever doors in their house they please. Each door system would also include a battery-powered door handle. This handle would replace the old handle and would contain another ESP32 that can communicate with the door. With this the door would be able to open without the latch preventing the opening. The TA suggested making more quantitative requirements, such as door weight requirements and timing with signals and opening. We were also told to email the professor about how we would go about demoing the door, since we would find it difficult demoing on an actual door.

## 2/13/2025 - Proposal Completion and Machine Workshop
We met with the Machine Workshop early in the afternoon to discuss the work that can be done for our project. This was due to us emailing the professor asking about how to go about demoing our project. Within the email we clarified the project idea, since there was plenty of confusion about our intentions. The professor suggested that we demo on a model door.

The Machine Shop already had a model door that was about 5 lbs and dimensions of21 x 13 inches. We also determined that the Machine Shop can provide us with the boxes that contain the circuitry for all subsystems (door opener, latch, and remote). They will also be able to attach the boxes and motors onto the door that need to be attached.

We changed the project to be based around what we will demo by the end of the semester. This means that we won't have an internal system for the handle anymore, and instead we will have a box with an actuating latch attached on the frame of the door. This way we can still emulate what the door handle was supposed to dowith the original idea. We also determined that since we will only have one door, then we can create another system not attached to any door just to demonstrate that the remote can attached to multiple systems if needed. These changes were shown in the visual aids and block diagrams created by my partners. I focused on clarifying the problem and solution statements in the project proposal. We also talked about timings and worked that the signals should be transferred between the 3 subsystems in a quarter of second. We also determined that the door should open in about 3 seconds, which we did tolerance analysis to determine the motor needed. We determined the parts we needed after figuring our the voltages that multiple necessary parts needed (motor, solenoid latch, ESP32, etc.) and finished the project proposal.

## 2/19/2025 - Proposal Review
We presented our proposal to the TA and professor. The project was approved due to the complexity and scope of the project. However, we missed out on including some circuitry in our subsystems overviews and block diagrams. This demonstrated that we needed to do more research about how the signals were to be send and received. We did not know what needed to drive the motor. The proofessor suggested considering at an H-bridge to start for driving the motor. He also said to that we can use an LDO to step-down the voltage inside of the remote from 3.6V to 3.3V, since the change in voltage is quite small.

## 2/24/2025 - Motor Driver Discussion
I was not present for the meeting between my partners, but they researched into the H-bridge. They informed me afterwards how we can use the ports from the ESP32 and we can control the direction and speed of the motor using the H-bridge. We also discussed about when we can start meeting more frequently in order to make significant progress in the project, since we got ahead on other work. Lastly, we talked about other research that we can perfrom about circuitry that should have been included in the block diagram. This included additional research into the circuitry that will have to be performed within the remote for displaying the door numbers and LEDs.

## 2/25/2025 - H-Bridge and Door System Designing
I met with Love so that we could further discuss the motor driver and possibly draw up some schematics. We looked up specific parts that we would need in order to implement the H-Bridge discussed from the previous day and we drew designs after determining how the ESP32 would connect to the motor. We decided on a simple H-Bridge that is similar to design from ECE 110 for the light-seeking car project. We realize the simplicity of the design may result in some faults, which will be addressed once designing the PCB for the door opening subsystem. Additionally, I redrew our block diagram for this specific subsystem for future reference, which will allow us to quickly realize all the necessary connections between the power, ESP32, voltage regulators, H-bridge, and motor.

We also devoted some time to further clarify on other details of the project, which includes all the bluetooth connections. From what we understand, there are configuration files for the ESP32 that will allow us to specify what the device can connect to. We were able to figure out that we can treat the remote as a server with all the door systems (door opener and latch) as clients. We believe that we can configure the names for the devices to allow the doors to only look for the remote and the remote to only be able to seek doors. The doors will constantly be looking to pair to a device (searching), while the remote will be able to find the doors once the bluetooth button is pushed. This helps us determine what we want each button on the remote to do. Currently we will have the blue LED blink while searching and then a solid color once a door is found. The open/close button will be used to select which door number on the remote that door will be assigned to.

Lastly, we met with our TA and shared our progress. We discussed the flow of the BlueTooth signals, where we believe the original flow of remote-door opener-door latch-door opener-remote would be most suitable simply because of weird BlueTooth configuration that would have to be done with the latch otherwise.

## 2/26/2025 - Remote PCB Designing
I met with Love to try and reach the PCB designing stages for at least one of our subsystems. Today, we determined the little differences that would need to be present between each of the PCBs for our subsystems. I worked with Love to figure out what the parts needed for the actual remote PCB would be. This way he could start putting the necessary parts down in KiCad. This includes the connectors needed for the buttons, LED, coin battery, and 7-segment display. We also placed down the needed LDO regulator and ESP32. Particulary, the 7-segment display connector may still be incorrect as we are unsure if we can find a way to connect the display without having to sauter it. We believe that we can use some headers and wires to connect the connector and display since they both have pins. We also found a coin battery holder online that will be able to handle the 3.6V coin battery that we have selected.

## 2/27/2025 - Door Latch PCB Designing
We met again today to finish another design, so I can go the PCB review and get some feedback about our designs at the very least. We were able to design the door latch fairly quickly since the design is the simplest out of all the subsystems. We determined that we could use an NMOS gate to control whether the latch is pulled in or pushed out. This required us to find the appropriate NMOS gate which could react to a 3.3V gate input and a 12V difference between the drain and source. We also decided to add another input into the ESP32 from the control gate as a redundant signal to confirm that the latch has retracted when receiving 12V. This means that we would need another voltage regulator to bring this 12V down to 3.3V. Other than this decision, the rest of the design remained the same, which led to us being able to quickly finish a schematic to demonstrate at the PCB review.

## 2/28/2025 - PCB Review
Alex and I met with a TA at the PCB review, where we found that, for the most part, our designs should be fine. He let us know some places where we should be aware of some failure. Firstly, we need to ensure that there is a way to properly program the board, which is where he suggested UART which should work fine for our project. Secondly, he said that there is a chance that we could use voltage divider rather than a voltage regulator. There may be a power and current issue with the regulators in the latch subsystem. Lastly, he told us to check the datasheets for the regulators because he believes that we were going to need decoupling capacitors around them.
